<div ng-repeat="subject in history" layout-padding>
    <md-toolbar class="md-primary" ng-click="selectSubject(subject)" layout="row">
        <md-icon  md-font-library="material-icons" ng-hide="subject === selectedSubject">keyboard_arrow_down</md-icon>
        <md-icon md-font-library="material-icons" ng-show="subject === selectedSubject">keyboard_arrow_up</md-icon>
        <div class="md-toolbar-tools">
            <h2 class="md-flex">{{subject.name}}</h2>
        </div>
    </md-toolbar>
    <md-content>
        <md-list ng-show="subject === selectedSubject">
            <md-subheader class="md-no-sticky">Average Grade: {{calculateAverageGrade(subject)}}</md-subheader>
            <md-list-item class="md-3-line" ng-repeat="class in subject.courses">
                <div class="md-list-item-text">
                    <h4>{{class.name}} - {{class.fullName}} </h4>
                    <p>Grade: {{class.grade}}</p>
                    <p>{{class.credits}} {{class.credits > 1? 'credits' : 'credit'}}</p>
                    <p>{{class.semesterName}} {{class.year}}</p>
                </div>
                <md-icon ng-repeat="star in getStarRating(class) track by $index" md-font-library="material-icons">{{star === 'full'? 'star_rate' : 'star_half'}}</md-icon>
                <md-divider ng-if="!$last"></md-divider>
            </md-list-item>
        </md-list>
    </md-content>
</div>